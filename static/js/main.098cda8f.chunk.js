(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{139:function(e,t,a){e.exports=a.p+"static/media/job-hero-banner-720W.60a740d1.jpg"},219:function(e,t,a){e.exports=a.p+"static/media/spinner.8b9a5cd1.gif"},221:function(e,t,a){e.exports=a.p+"static/media/job-hero-banner-480W.9b2c7ace.jpg"},222:function(e,t,a){e.exports=a.p+"static/media/job-hero-banner-320W.9325e4fc.jpg"},224:function(e,t,a){e.exports=a(436)},435:function(e,t,a){},436:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(215),c=a.n(l),o=a(24),s=a(42),i=a(11),m=a(7),u=a(48),d=a.n(u),p=(a(241),a(9)),b=a(136),h=a(218),f={message:null,messageType:null};d.a.initializeApp({apiKey:"AIzaSyBqyLKGfSDU2-eXcwBuUFw1EYYTEsMCmN0",authDomain:"connect-the-x.firebaseapp.com",databaseURL:"https://connect-the-x.firebaseio.com",projectId:"connect-the-x",storageBucket:"connect-the-x.appspot.com",messagingSenderId:"401012072513",appId:"1:401012072513:web:300f9955d54ad898"}),d.a.firestore();var E=Object(m.c)(Object(p.reactReduxFirebase)(d.a,{userProfile:"users",useFirestoreForProfile:!0}),Object(b.reduxFirestore)(d.a))(m.d)(Object(m.b)({firebase:p.firebaseReducer,firestore:b.firestoreReducer,notify:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NOTIFY_USER":return Object(h.a)({},e,{message:t.message,messageType:t.messageType});default:return e}}}),{},Object(m.c)(Object(p.reactReduxFirebase)(d.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),g=a(134),v=a.n(g),y=a(137),N=a(219),j=a.n(N);var w=function(){return r.a.createElement("div",null,r.a.createElement("img",{src:j.a,alt:"Loading...",style:{margin:"auto",display:"block",width:"70px"}}))},O=v()({}),k=Object(y.connectedRouterRedirect)({wrapperDisplayName:"UserIsAuthenticated",AuthenticatingComponent:w,allowRedirectBack:!0,redirectPath:function(e,t){return O.getRedirectQueryParam(t)||"/login"},authenticatingSelector:function(e){var t=e.firebase,a=t.auth,n=(t.profile,t.isInitializing);return!a.isLoaded||!0===n},authenticatedSelector:function(e){var t=e.firebase.auth;return t.isLoaded&&!t.isEmpty}}),x=Object(y.connectedRouterRedirect)({wrapperDisplayName:"UserIsNotAuthenticated",AuthenticatingComponent:w,allowRedirectBack:!1,redirectPath:function(e,t){return O.getRedirectQueryParam(t)||"/"},authenticatingSelector:function(e){var t=e.firebase,a=t.auth,n=t.isInitializing;return!a.isLoaded||!0===n},authenticatedSelector:function(e){var t=e.firebase.auth;return t.isLoaded&&t.isEmpty}}),C=a(15),S=a(16),A=a(18),D=a(17),L=a(19),F=function(e){function t(){var e,a;Object(C.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(A.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(r)))).state={isAuthenticated:!1},a.onLogout=function(e){return e.preventDefault(),a.props.firebase.auth().signOut().then(function(e){return a.props.history.push("/")}).catch(function(e){return"Something went wrong..."}),{isAuthenticated:!1}},a}return Object(L.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){var e=this.props.auth,t=this.state.isAuthenticated;return r.a.createElement("nav",{className:"navbar navbar-expand-md navbar-light bg-info mb-4"},r.a.createElement("div",{className:"container"},r.a.createElement("h3",null,r.a.createElement(o.b,{to:"/",className:"nav-brand text-light"},"CanaanJobs"),"      "),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarMain"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"navbar-collapse collapse",id:"navbarMain"},r.a.createElement("ul",{className:"navbar-nav ml-auto"},t?r.a.createElement("ul",{className:"navbar-nav d-flex justify-content-around"},r.a.createElement("li",{className:"nav-item text-white nav-link"},e.email),r.a.createElement("li",{className:"nav-item"},r.a.createElement(o.b,{to:"/add",className:"nav-link text-light"},"Post a job")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{href:"!#",className:"nav-link text-light"},"Find a job")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{href:"!#",className:"nav-link text-light",role:"button",onClick:this.onLogout},"Logout"))):r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(o.b,{to:"/login",className:"nav-link text-light"},"Login Now")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(o.b,{to:"/register",className:"nav-link text-light"},"Register")))))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.auth.uid?{isAuthenticated:!0}:{isAuthenticated:!1}}}]),t}(n.Component),R=Object(m.c)(Object(p.firebaseConnect)(),Object(i.connect)(function(e,t){return{auth:e.firebase.auth}}))(F),T=function(){return r.a.createElement("div",{className:"footer bg-info"},r.a.createElement("div",{className:"social-box"},r.a.createElement("a",{href:"https://www.facebook.com/canaan.jobs",target:"_blank",id:"facebook",rel:"noreferrer noopener"},r.a.createElement("i",{className:"fab fa-facebook"}))))};var P=function(){return r.a.createElement("div",{className:"header"},r.a.createElement("h1",{className:"header--primary-text"},"FIND YOUR PATH TO SUCCESS"))},U=function(e){function t(){var e,a;Object(C.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(A.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(r)))).handleApplyNow=function(){console.log("Apply now clicked")},a.handleSeeMore=function(e){e.preventDefault(),console.log("See more clicked and ".concat(e.id))},a}return Object(L.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){var e=this,t=this.props.jobs;return r.a.createElement("div",{className:"container col-md-9 col-sm-12"},r.a.createElement("div",{className:"row"},t?t.map(function(t){return r.a.createElement("div",{className:"col-md-4 col-sm-6 mb-4",key:t.id},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header text-info font-weight-bold"},t.jobTitle),r.a.createElement("div",{className:"card-body"},r.a.createElement("strong",null,t.hiringCompany),r.a.createElement("br",null),t.city,", ",t.country,r.a.createElement("br",null),"Salary: RM ",t.salary)),r.a.createElement("input",{type:"button",className:"btn btn-outline-success col-6",value:"Apply Now",onClick:e.handleApplyNow}),r.a.createElement(o.b,{to:"/job/".concat(t.id),className:"btn btn-outline-danger col-6"},"See More ",r.a.createElement("i",{className:"fas fa-info-circle"})))}):null))}}]),t}(n.Component),I=Object(m.c)(Object(p.firestoreConnect)([{collection:"jobs"}]),Object(i.connect)(function(e){return{jobs:e.firestore.ordered.jobs}}))(U);var _=function(){return r.a.createElement("div",null,r.a.createElement(P,null),r.a.createElement(I,null))},q=a(139),W=a.n(q),B=a(221),J=a.n(B),M=a(222),X=a.n(M),Y=function(e){function t(){var e,a;Object(C.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(A.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(e){var t=a.props.job;console.log(t.jobTitle)},a}return Object(L.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){var e=this.props.job;return e?r.a.createElement("div",{className:"container col-sm-12 col-md-9 border border-light pt-3"},r.a.createElement("div",{className:"embed-responsive-4by3 mb-2"},r.a.createElement("img",{srcSet:"".concat(W.a," 1280w, ").concat(J.a," 640w, ").concat(X.a," 320w"),src:W.a,alt:"now hiring"})),r.a.createElement("div",{className:"row mb-2 col-sm-12 col-md-12 pl-0 d-flex justify-content-center"},r.a.createElement("h4",{className:"col-sm-8"},r.a.createElement("span",{className:"text-info"},"We are looking for: ")," ",e.jobTitle),r.a.createElement("div",{className:"col-sm-4 bg-success text-white d-flex flex-column justify-content-center"},"Expected salary: RM ",e.salary)),r.a.createElement("div",{className:"row col-sm-6 mb-2 text-secondary font-weight-bold"},e.hiringCompany,"  -  ",e.city,", ",e.country),r.a.createElement("div",{className:"row col-sm-6 d-flex flex-column"},r.a.createElement("h5",{className:"text-info"},"Job Description: "),r.a.createElement("p",null,e.jobDescription)),r.a.createElement("div",{className:"row col-sm-6 d-flex flex-column"},r.a.createElement("h5",{className:"text-info"},"Skills Required: "),r.a.createElement("ul",null,e.skillsList?e.skillsList.map(function(e){return r.a.createElement("li",null,e)}):null)),r.a.createElement("button",{className:"btn btn-primary mb-5",onClick:this.handleClick},"Apply now")):r.a.createElement(w,null)}}]),t}(n.Component),z=Object(m.c)(Object(p.firestoreConnect)(function(e){return[{collection:"jobs",storeAs:"job",doc:e.match.params.id}]}),Object(i.connect)(function(e,t){var a=e.firestore.ordered;return{job:a.job&&a.job[0]}}))(Y),V=a(223),K=a(34),Q=function(e){function t(e){return Object(C.a)(this,t),Object(A.a)(this,Object(D.a)(t).call(this,e))}return Object(L.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){var e=this,t=this.props.skills.map(function(t,a){return r.a.createElement("li",{className:"list-item mb-1",key:a},r.a.createElement("input",{type:"text",value:t,name:"skill",onChange:e.props.handleSkillChange(a),className:"border border-secondary"}),r.a.createElement("i",{className:"fas fa-plus ml-2 text-success",onClick:e.props.handleAddSkill}),r.a.createElement("i",{className:"fas fa-minus ml-2 text-danger",onClick:function(){return e.props.handleDeleteSkill(a)}}))});return r.a.createElement("div",null,r.a.createElement("ul",{className:"list-unstyled"},t))}}]),t}(n.Component),G=function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(A.a)(this,Object(D.a)(t).call(this,e))).onChange=function(e){a.setState(Object(K.a)({},e.target.name,e.target.value))},a.onSubmit=function(e){e.preventDefault();var t=a.state,n=a.props,r=n.history;n.firestore.add({collection:"jobs"},t).then(function(){return r.push("/")})},a.onSkillChange=function(e){return function(t){var n=a.state.skillsList.map(function(a,n){return n!==e?a:a=t.target.value});a.setState({skillsList:n})}},a.addSkill=function(e){e.preventDefault();var t=[].concat(Object(V.a)(a.state.skillsList),[""]);a.setState({skillsList:t})},a.deleteSkill=function(e){if(a.state.skillsList.length>1){var t=a.state.skillsList.filter(function(t,a){return e!==a});a.setState({skillsList:t})}else alert("Pls insert at least one skill!")},a.state={hiringCompany:"",jobTitle:"",salary:"",city:"",country:"",jobDescription:"",skillsList:[""]},a}return Object(L.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){var e=this.state.hiringCompany;return r.a.createElement("div",{className:"row col-md-12 mx-auto"},r.a.createElement("div",{className:"card col-md-10 px-0 mx-auto"},r.a.createElement("h2",{className:"card-header"},"Post a job"),r.a.createElement("div",{className:"card-body"},r.a.createElement("form",{className:"d-flex flex-column",onSubmit:this.onSubmit},r.a.createElement("div",{className:"row d-flex justify-content-start"},r.a.createElement("div",{className:"form-group col-md-3"},r.a.createElement("label",{htmlFor:"hiringCompany"},"Company Name"),r.a.createElement("input",{type:"text",className:"form-control",name:"hiringCompany",required:!0,value:null==e?"":e,readOnly:!0})),r.a.createElement("div",{className:"form-group col-md-3"},r.a.createElement("label",{htmlFor:"jobTitle"},"Job Title"),r.a.createElement("input",{type:"text",id:"jobTitle",className:"form-control",name:"jobTitle",required:!0,onChange:this.onChange})),r.a.createElement("div",{className:"form-group col-md-3"},r.a.createElement("label",{htmlFor:"salary"},"Salary"),r.a.createElement("input",{type:"number",id:"salary",className:"form-control",name:"salary",required:!0,onChange:this.onChange}))),r.a.createElement("h6",null,"Location"),r.a.createElement("div",{className:"row d-flex justify-content-start"},r.a.createElement("div",{className:"form-group col-md-3"},r.a.createElement("label",{htmlFor:"city"},"City"),r.a.createElement("input",{type:"text",className:"form-control",id:"city",name:"city",required:!0,onChange:this.onChange})),r.a.createElement("div",{className:"form-group col-md-3"},r.a.createElement("label",{htmlFor:"country"},"Country"),r.a.createElement("input",{type:"text",className:"form-control",id:"country",name:"country",required:!0,onChange:this.onChange}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group col-md-9"},r.a.createElement("label",{htmlFor:"jobDescription"},"Job Description"),r.a.createElement("textarea",{placeholder:"Write your requirement for potential candidate...",className:"form-control",id:"jobDescription",name:"jobDescription",rows:"5",onChange:this.onChange}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("h6",null,"Skills Requirement"),r.a.createElement(Q,{skills:this.state.skillsList,handleSkillChange:this.onSkillChange,handleAddSkill:this.addSkill,handleDeleteSkill:this.deleteSkill}))),r.a.createElement("input",{className:"btn btn-info mx-auto",type:"submit",value:"Post a job",onClick:this.onSubmit})))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{hiringCompany:e.profile.hiringCompany}}}]),t}(n.Component),H=Object(m.c)(Object(p.firestoreConnect)(),Object(i.connect)(function(e,t){return{auth:e.firebase.auth,profile:e.firebase.profile}}))(G),$=function(e,t){return{type:"NOTIFY_USER",message:e,messageType:t}},Z=function(e){function t(){var e,a;Object(C.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(A.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(r)))).state={isCompany:!0,isJobSeeker:!1,email:"",password:""},a.onChange=function(e){a.setState(Object(K.a)({},e.target.name,e.target.value))},a.onSubmit=function(e){e.preventDefault();var t=a.state,n=t.email,r=t.password,l=a.props,c=l.firebase,o=l.notifyUser;c.auth().createUserWithEmailAndPassword(n,r).then(function(e){var t=c.auth().currentUser,n={url:"localhost:3000/?email="+c.auth().currentUser.email,handleCodeInApp:!1};t.sendEmailVerification(n).then(function(){}).catch(function(e){o("Verification email failed","error"),console.log("Email verification failed")}),a.props.history.push("/")}).catch(function(e){return o("That user already exists","error")})},a}return Object(L.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){var e=this.props.notify,t=e.message,a=e.messageType;return r.a.createElement("div",{className:"row register-section"},r.a.createElement("div",{className:"col-md-4 mx-auto"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},t?r.a.createElement("h6",{className:"text-danger"},a,": ",t):null,r.a.createElement("h1",{className:"text-center pb-4 pt-3"},r.a.createElement("span",{className:"text-info"},r.a.createElement("i",{className:"fas fa-lock"})," Sign Up")),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{type:"text",className:"form-control",name:"email",required:!0,value:this.state.email,onChange:this.onChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",className:"form-control",name:"password",required:!0,value:this.state.password,onChange:this.onChange})),r.a.createElement("input",{type:"submit",value:"Sign up",className:"btn btn-block btn-info"}))))))}}]),t}(n.Component),ee=Object(m.c)(Object(p.firebaseConnect)(),Object(i.connect)(function(e,t){return{notify:e.notify,settings:e.settings}},{notifyUser:$}))(Z),te=function(e){function t(){var e,a;Object(C.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(A.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:""},a.onChange=function(e){a.setState(Object(K.a)({},e.target.name,e.target.value))},a.onSubmit=function(e){e.preventDefault();var t=a.state,n=t.email,r=t.password,l=a.props,c=l.firebase,o=l.notifyUser;c.login({email:n,password:r}).then(function(e){return a.props.history.push("/")}).catch(function(e){return o("Incorrect login credentials","error")})},a.handleForgotPassword=function(e){e.preventDefault()},a}return Object(L.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){var e=this.props.notify,t=e.message,a=e.messageType;return r.a.createElement("div",{className:"row login-section"},r.a.createElement("div",{className:"col-md-4 mx-auto"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},t?r.a.createElement("h6",{className:"text-danger"},"".concat(a,": ").concat(t)):null,r.a.createElement("h1",{className:"text-center pb-4 pt-3"},r.a.createElement("span",{className:"text-info"},r.a.createElement("i",{className:"fas fa-user-ninja"})," Login Now")),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{type:"text",className:"form-control",name:"email",required:!0,value:this.state.email,onChange:this.onChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",className:"form-control",name:"password",required:!0,value:this.state.password,onChange:this.onChange})),r.a.createElement("input",{type:"submit",value:"Login",className:"btn btn-block btn-info"})),r.a.createElement("div",{className:"mt-2"},r.a.createElement("span",null,"Don't have account?"," ",r.a.createElement(o.b,{to:"/register"}," Register now! ")),r.a.createElement("br",null),r.a.createElement("span",null,r.a.createElement("a",{href:"#!",onClick:this.handleForgotPassword},"Forgot password...")))))))}}]),t}(n.Component),ae=Object(m.c)(Object(p.firebaseConnect)(),Object(i.connect)(function(e,t){return{notify:e.notify,settings:e.settings}},{notifyUser:$}))(te);a(435);var ne=function(){return r.a.createElement(i.Provider,{store:E},r.a.createElement(o.a,{basename:"/"},r.a.createElement("div",{className:"App"},r.a.createElement(R,null),r.a.createElement("div",{className:"site-content"},r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/",component:_}),r.a.createElement(s.a,{exact:!0,path:"/job/:id",component:z}),r.a.createElement(s.a,{exact:!0,path:"/register",component:x(ee)}),r.a.createElement(s.a,{exact:!0,path:"/login",component:x(ae)}),r.a.createElement(s.a,{exact:!0,path:"/add",component:k(H)}))),r.a.createElement(T,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(ne,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[224,1,2]]]);
//# sourceMappingURL=main.098cda8f.chunk.js.map